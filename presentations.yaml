paths:
  # Tag Group: Backend Server
  # Tag: Presentations
  /presentations:
    get:
      tags:
        - Backend-Server / Presentations
      summary: Get All Presentations
      description: Retrieves paginated list of presentations with thumbnails.
      operationId: getAllPresentations
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            minimum: 1
            default: 1
          description: Page number
        - name: pageSize
          in: query
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
          description: Number of presentations per page (1-100)
        - name: filter
          in: query
          schema:
            type: string
            maxLength: 100
          description: Filter presentations by title (case-insensitive search)
        - name: sort
          in: query
          schema:
            type: string
            enum: ["asc", "desc"]
            default: "asc"
          description: Sort order - ascending (asc) or descending (desc)
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                            title:
                              type: string
                            thumbnail:
                              $ref: "../schemas.yaml#/components/schemas/Slide"
                            createdAt:
                              type: string
                              format: date-time
                            updatedAt:
                              type: string
                              format: date-time
                      pagination:
                        $ref: "../schemas.yaml#/components/responses/Pagination"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    post:
      tags:
        - Backend-Server / Presentations
      summary: Create new Presentation
      description: Creates a new presentation with a default structure.
      operationId: createPresentation
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  description: The title of the presentation
                  minLength: 1
                  maxLength: 200
                  example: "My First Presentation"
                slides:
                  type: array
                  items:
                    $ref: "../schemas.yaml#/components/schemas/Slide"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Presentation"

        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
  /presentations/{id}:
    get:
      tags:
        - Backend-Server / Presentations
      summary: Get Presentation
      description: Gets a complete presentation by its ID.
      operationId: getPresentation
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/Presentation"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    put:
      tags:
        - Backend-Server / Presentations
      summary: Update a Presentation
      description: Updates a presentation by replacing the existing resource with the provided data.
      operationId: updatePresentation
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                slides:
                  type: array
                  items:
                    $ref: "../schemas.yaml#/components/schemas/Slide"
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
    delete:
      tags:
        - Backend-Server / Presentations
      summary: Delete a Presentation
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
  /presentations/{id}/title:
    patch:
      tags:
        - Backend-Server / Presentations
      summary: Update a Presentation Title
      description: Updates the title of an existing presentation by ID.
      operationId: updatePresentationTitle
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                  description: The new title for the presentation
                  minLength: 1
                  maxLength: 200
                  example: "Updated Presentation Title"
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
  /presentations/{presentationId}/ai-result:
    get:
      tags:
        - Backend-Server / Presentations
      summary: Get AI Generation Result
      description: Retrieves the AI generation result for a specific presentation by presentation's ID.
      operationId: getAIGenerationResult
      parameters:
        - name: presentationId
          in: path
          required: true
          schema:
            type: string
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        $ref: "../schemas.yaml#/components/schemas/AI-Result"
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
  /presentations/{id}/slides:
    put:
      tags:
        - Backend-Server / Presentations
      summary: Upsert presentation slides
      description: Upsert the complete set of slides for a presentation (replace existing slides with the provided list).
      operationId: upsertPresentationSlides
      parameters:
        - name: idempotency-key
          in: header
          required: false
          schema:
            type: string
          description: A unique key to ensure idempotent requests.
        - name: id
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                slides:
                  type: array
                  items:
                    $ref: "../schemas.yaml#/components/schemas/Slide"
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/schemas/Error"
                  - type: object
                    properties:
                      errorCode:
                        type: string
                        example: "INVALID_PRESENTATION_DATA"
                      message:
                        type: string
                        example: "Invalid presentation data"
                      code:
                        type: integer
                        example: 400
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                allOf:
                  - $ref: "../schemas.yaml#/components/schemas/Error"
                  - type: object
                    properties:
                      errorCode:
                        type: string
                        example: "INTERNAL_SERVER_ERROR"
                      message:
                        type: string
                        example: "Failed to update presentation"
                      code:
                        type: integer
                        example: 500
  /presentations/generate:
    post:
      tags:
        - Backend-Server / Presentations
      summary: Generate Presentation by using AI
      description: Generates a complete presentation based on a provided markdown outline.
      operationId: generatePresentation
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                presentation:
                  type: object
                  description: The presentation metadata
                outline:
                  type: string
                  description: The presentation outline in markdown format using educational format with engaging hooks, bold emphasis, and conversational tone
                  minLength: 1
                  example: "```markdown\n### The Amazing World of Artificial Intelligence!\n\nDid you know computers can now think and learn just like humans? Let's discover how AI is changing our world!\n\n**What makes AI so special?**\n\n- **AI systems are smart programs** that can learn from experience\n- They are like **digital brains** that solve problems for us\n- This incredible technology helps us in ways we never imagined\n\n_AI doesn't get tired or forget - it keeps learning 24/7!_\n\n### How Does AI Actually Learn?\n\nThe secret ingredient is massive amounts of **data**! AI systems feed on information to become smarter.\n\n**Data: The Brain Food of AI**\n\n- **Machine Learning** is like teaching a computer to recognize patterns\n- AI systems use **algorithms** to process and understand information\n- Without quality data, AI cannot make good decisions\n\n> Just like we learn from our mistakes, AI gets better with every example!\n```"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          slides:
                            type: array
                            items:
                              $ref: "../schemas.yaml#/components/schemas/AIPresentation"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
  /presentations/outline-generate:
    post:
      tags:
        - Backend-Server / Presentations
      summary: Generate Presentation Outline by using AI
      description: Generates a presentation outline in markdown format based on specified parameters.
      operationId: generatePresentationOutline
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - topic
                - slideCount
                - model
                - language
              properties:
                topic:
                  type: string
                  description: The main topic or subject for the presentation
                  minLength: 1
                  maxLength: 200
                  example: "Artificial Intelligence for Beginners"
                slideCount:
                  type: integer
                  description: The desired number of slides in the outline
                  minimum: 1
                  maximum: 50
                  example: 10
                language:
                  type: string
                  description: The language of the presentation
                  enum: ["English", "Spanish", "French", "German"]
                  default: "English"
                  example: "English"
                model:
                  type: string
                  description: The AI model to use for generating the outline
                  enum: ["gpt-4", "gpt-3.5-turbo", "claude-3"]
                  default: "gpt-4"
                  example: "gpt-4"
                learningObjective:
                  type: string
                  description: The learning objective or goal of the presentation
                  minLength: 1
                  maxLength: 500
                  example: "To introduce the basic concepts of artificial intelligence and its applications in everyday life."
                targetAge:
                  type: string
                  description: The target age group for the presentation
                  enum: ["7-10", "6-12", "Primary students"]
                  default: "Primary students"
                  example: "7-10"
      responses:
        "200":
          description: success
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "../schemas.yaml#/components/responses/AppResponseDto"
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          outline:
                            type: string
                            description: The presentation outline in markdown format using educational format with engaging hooks, bold emphasis, and conversational tone
                            example: "```markdown\n### The Amazing World of Artificial Intelligence!\n\nDid you know computers can now think and learn just like humans? Let's discover how AI is changing our world!\n\n**What makes AI so special?**\n\n- **AI systems are smart programs** that can learn from experience\n- They are like **digital brains** that solve problems for us\n- This incredible technology helps us in ways we never imagined\n\n_AI doesn't get tired or forget - it keeps learning 24/7!_\n\n### How Does AI Actually Learn?\n\nThe secret ingredient is massive amounts of **data**! AI systems feed on information to become smarter.\n\n**Data: The Brain Food of AI**\n\n- **Machine Learning** is like teaching a computer to recognize patterns\n- AI systems use **algorithms** to process and understand information\n- Without quality data, AI cannot make good decisions\n\n> Just like we learn from our mistakes, AI gets better with every example!\n\n### AI in Our Daily Lives\n\nFrom your smartphone to your favorite streaming service, AI is everywhere working behind the scenes.\n\n**Where Can You Find AI Today?**\n\n- **Voice assistants** like Siri and Alexa understand what you say\n- **Recommendation systems** suggest movies and music you might like\n- **Navigation apps** find the fastest route to your destination\n\n_AI is like having a super-smart friend who never sleeps and always wants to help!_\n```"
        "400":
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
  /presentations/{id}/parse:
    patch:
      tags:
        - Backend-Server / Presentations
      summary: Update presentation parsing status
      description: Update the parsing status of the presentation after completely parsing.
      operationId: updatePresentationParsingStatus
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        "204":
          description: No Content
        "404":
          description: Not Found
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"
        "500":
          description: Internal Server Error
          content:
            application/json:
              schema:
                $ref: "../schemas.yaml#/components/schemas/Error"